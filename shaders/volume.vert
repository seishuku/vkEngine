#version 450

layout(push_constant) uniform pc
{
    mat4 mv;
    mat4 proj;
};

layout(location=0) out vec3 Position;
layout(location=1) flat out float Scale;

vec3 Cube[]=
{
	{ +1.0, -1.0, -1.0 },
	{ +1.0, -1.0, +1.0 },
	{ +1.0, +1.0, +1.0 },
	{ +1.0, +1.0, -1.0 },
	{ +1.0, -1.0, -1.0 },
	{ +1.0, +1.0, +1.0 },
	{ -1.0, -1.0, +1.0 },
	{ -1.0, -1.0, -1.0 },
	{ -1.0, +1.0, -1.0 },
	{ -1.0, +1.0, +1.0 },
	{ -1.0, -1.0, +1.0 },
	{ -1.0, +1.0, -1.0 },
	{ -1.0, +1.0, -1.0 },
	{ +1.0, +1.0, -1.0 },
	{ +1.0, +1.0, +1.0 },
	{ -1.0, +1.0, +1.0 },
	{ -1.0, +1.0, -1.0 },
	{ +1.0, +1.0, +1.0 },
	{ -1.0, -1.0, +1.0 },
	{ +1.0, -1.0, +1.0 },
	{ +1.0, -1.0, -1.0 },
	{ -1.0, -1.0, -1.0 },
	{ -1.0, -1.0, +1.0 },
	{ +1.0, -1.0, -1.0 },
	{ +1.0, -1.0, +1.0 },
	{ -1.0, -1.0, +1.0 },
	{ -1.0, +1.0, +1.0 },
	{ +1.0, +1.0, +1.0 },
	{ +1.0, -1.0, +1.0 },
	{ -1.0, +1.0, +1.0 },
	{ -1.0, -1.0, -1.0 },
	{ +1.0, -1.0, -1.0 },
	{ +1.0, +1.0, -1.0 },
	{ -1.0, +1.0, -1.0 },
	{ -1.0, -1.0, -1.0 },
	{ +1.0, +1.0, -1.0 },
};

void main()
{
	Scale=50.0;
	vec3 vPosition=Cube[gl_VertexIndex]*Scale.xxx;

	gl_Position=proj*mv*vec4(vPosition, 1.0);

	Position=vPosition.xyz;
}
